var testMatchingRoute=function(e){"use strict";var t=h,r=f,n=function(e,t){return s(f(e,t))},i=s,o=g,a="/",p=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function f(e,t){for(var r,n=[],i=0,o=0,f="",s=t&&t.delimiter||a,l=t&&t.whitelist||void 0,g=!1;null!==(r=p.exec(e));){var h=r[0],y=r[1],m=r.index;if(f+=e.slice(o,m),o=m+h.length,y)f+=y[1],g=!0;else{var v="",d=r[2],x=r[3],w=r[4],E=r[5];if(!g&&f.length){var $=f.length-1,R=f[$];(!l||l.indexOf(R)>-1)&&(v=R,f=f.slice(0,$))}f&&(n.push(f),f="",g=!1);var b="+"===E||"*"===E,A="?"===E||"*"===E,T=x||w,k=v||s;n.push({name:d||i++,prefix:v,delimiter:k,optional:A,repeat:b,pattern:T?c(T):"[^"+u(k===s?k:k+s)+"]+?"})}}return(f||o<e.length)&&n.push(f+e.substr(o)),n}function s(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var i="",o=n&&n.encode||encodeURIComponent,a=0;a<e.length;a++){var p=e[a];if("string"!=typeof p){var f,s=r?r[p.name]:void 0;if(Array.isArray(s)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but got array');if(0===s.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var u=0;u<s.length;u++){if(f=o(s[u],p),!t[a].test(f))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'"');i+=(0===u?p.prefix:p.delimiter)+f}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!p.optional)throw new TypeError('Expected "'+p.name+'" to be '+(p.repeat?"an array":"a string"))}else{if(f=o(String(s),p),!t[a].test(f))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but got "'+f+'"');i+=p.prefix+f}}else i+=p}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e){return e&&e.sensitive?"":"i"}function g(e,t,r){for(var n=(r=r||{}).strict,i=!1!==r.start,o=!1!==r.end,p=r.delimiter||a,f=[].concat(r.endsWith||[]).map(u).concat("$").join("|"),s=i?"^":"",c=0;c<e.length;c++){var g=e[c];if("string"==typeof g)s+=u(g);else{var h=g.repeat?"(?:"+g.pattern+")(?:"+u(g.delimiter)+"(?:"+g.pattern+"))*":g.pattern;t&&t.push(g),g.optional?g.prefix?s+="(?:"+u(g.prefix)+"("+h+"))?":s+="("+h+")?":s+=u(g.prefix)+"("+h+")"}}if(o)n||(s+="(?:"+u(p)+")?"),s+="$"===f?"$":"(?="+f+")";else{var y=e[e.length-1],m="string"==typeof y?y[y.length-1]===p:void 0===y;n||(s+="(?:"+u(p)+"(?="+f+"))?"),m||(s+="(?="+u(p)+"|"+f+")")}return new RegExp(s,l(r))}function h(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(h(e[i],t,r).source);return new RegExp("(?:"+n.join("|")+")",l(r))}(e,t,r):function(e,t,r){return g(f(e,r),t,r)}(e,t,r)}t.parse=r,t.compile=n,t.tokensToFunction=i,t.tokensToRegExp=o;const y=new Map;function m(e,r={useMap:!0}){if(y.has(e)&&r.useMap)return y.get(e);var n=[],i=new t(e,n);return y.set(e,{re:i,keys:n}),{keys:n,re:i}}return e.findMatchingRoutePath=function(e,t,r={}){const{return_matching_keys:n}=r;let i,o,a;return t=/\?[^\s]+$/.test(t)?t.replace(/^([^\s\?]+)\?[^\s]+$/,"$1"):t,(Array.isArray(e)?e:Object.keys(e)).forEach(function(e){var p=m(e,r);if(p.re.test(t)&&!i&&(i=e,a=p.re,n)){const e=p.re.exec(i),r=t.match(p.re);o=r.reduce((t,r,n)=>(0!==n&&"string"==typeof r&&(t[e[n].replace(":","")]=r),t),{})}}),n&&i?{route:i,location:t,params:o,re:a}:i},e.getParameterizedPath=m,e.ROUTE_MAP=y,e}({});
