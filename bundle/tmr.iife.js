var testMatchingRoute=function(e){"use strict";var t=h,r=f,n=function(e,t){return u(f(e,t))},i=u,o=g,a="/",p=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function f(e,t){for(var r,n=[],i=0,o=0,f="",u=t&&t.delimiter||a,l=t&&t.whitelist||void 0,g=!1;null!==(r=p.exec(e));){var h=r[0],v=r[1],y=r.index;if(f+=e.slice(o,y),o=y+h.length,v)f+=v[1],g=!0;else{var m="",d=r[2],x=r[3],w=r[4],E=r[5];if(!g&&f.length){var $=f.length-1,R=f[$];(!l||l.indexOf(R)>-1)&&(m=R,f=f.slice(0,$))}f&&(n.push(f),f="",g=!1);var b="+"===E||"*"===E,A="?"===E||"*"===E,T=x||w,M=m||u;n.push({name:d||i++,prefix:m,delimiter:M,optional:A,repeat:b,pattern:T?c(T):"[^"+s(M===u?M:M+u)+"]+?"})}}return(f||o<e.length)&&n.push(f+e.substr(o)),n}function u(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var i="",o=n&&n.encode||encodeURIComponent,a=0;a<e.length;a++){var p=e[a];if("string"!=typeof p){var f,u=r?r[p.name]:void 0;if(Array.isArray(u)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but got array');if(0===u.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var s=0;s<u.length;s++){if(f=o(u[s],p),!t[a].test(f))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'"');i+=(0===s?p.prefix:p.delimiter)+f}}else if("string"!=typeof u&&"number"!=typeof u&&"boolean"!=typeof u){if(!p.optional)throw new TypeError('Expected "'+p.name+'" to be '+(p.repeat?"an array":"a string"))}else{if(f=o(String(u),p),!t[a].test(f))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but got "'+f+'"');i+=p.prefix+f}}else i+=p}return i}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e){return e&&e.sensitive?"":"i"}function g(e,t,r){for(var n=(r=r||{}).strict,i=!1!==r.start,o=!1!==r.end,p=r.delimiter||a,f=[].concat(r.endsWith||[]).map(s).concat("$").join("|"),u=i?"^":"",c=0;c<e.length;c++){var g=e[c];if("string"==typeof g)u+=s(g);else{var h=g.repeat?"(?:"+g.pattern+")(?:"+s(g.delimiter)+"(?:"+g.pattern+"))*":g.pattern;t&&t.push(g),g.optional?g.prefix?u+="(?:"+s(g.prefix)+"("+h+"))?":u+="("+h+")?":u+=s(g.prefix)+"("+h+")"}}if(o)n||(u+="(?:"+s(p)+")?"),u+="$"===f?"$":"(?="+f+")";else{var v=e[e.length-1],y="string"==typeof v?v[v.length-1]===p:void 0===v;n||(u+="(?:"+s(p)+"(?="+f+"))?"),y||(u+="(?="+s(p)+"|"+f+")")}return new RegExp(u,l(r))}function h(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(h(e[i],t,r).source);return new RegExp("(?:"+n.join("|")+")",l(r))}(e,t,r):function(e,t,r){return g(f(e,r),t,r)}(e,t,r)}t.parse=r,t.compile=n,t.tokensToFunction=i,t.tokensToRegExp=o;const v=new Map;function y(e,r={useMap:!0}){if(v.has(e)&&r.useMap)return v.get(e);var n=[],i=new t(e,n);return v.set(e,{re:i,keys:n}),{keys:n,re:i}}return e.findMatchingRoutePath=function(e,t,r={}){var n;return t=/\?[^\s]+$/.test(t)?t.replace(/^([^\s\?]+)\?[^\s]+$/,"$1"):t,(Array.isArray(e)?e:Object.keys(e)).forEach(function(e){y(e,r).re.test(t)&&!n&&(n=e)}),n},e.getParameterizedPath=y,e.ROUTE_MAP=v,e}({});
